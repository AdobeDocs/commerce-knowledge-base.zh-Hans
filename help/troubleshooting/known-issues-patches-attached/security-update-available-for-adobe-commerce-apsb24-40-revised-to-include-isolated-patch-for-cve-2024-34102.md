---
title: 可用于Adobe Commerce的安全更新 — [!DNL APSB24-40]
promoted: true
description: 为Adobe Commerce 2.4.4-p8、2.4.5-p7、2.4.6-p5、2.4.7及更早版本应用修补程序和修补程序以修复 [!DNL CVE-2024-34102] 。
feature: Compliance, Security
role: Developer
source-git-commit: 16c3ba9533d3b0d98accd7158d546fb852021d7b
workflow-type: tm+mt
source-wordcount: '661'
ht-degree: 0%

---

# 可用于Adobe Commerce的安全更新 — [!DNL APSB24-40]

>[!NOTE]
>
>**这是与[!DNL CVE-2024-34102]相关的紧急更新。 Adobe知道在针对Adobe Commerce商家的非常有限的攻击中，[!DNL CVE-2024-34102]被恶意利用。

2024年7月17日，除了2024年6月11日的安全更新版本和/或2024年6月28日发布的独立修补程序之外，我们还发布了[!DNL hotfix]。

**请检查所有生产和非生产环境，以帮助确保在所有实例上完全修补您的存储区。  请立即执行<u>操作</u>以解决漏洞。**

>[!NOTE]
>
>**仅适用于Cloud Markets上的Adobe Commerce**：<br><br>1。 确保您使用的是最新版本的[!DNL ECE Tools]。 如果不是，请升级（或跳至项目2）。 要检查现有版本，请运行此命令：`composer show magento/ece-tools`<br>2。 如果您已经使用最新版本的[!DNL ECE Tools]，请检查是否存在`op-exclude.txt`文件。 为此，请运行此命令：`ls op-exclude.txt`。如果此文件不存在，请将https://github.com/magento/magento-cloud/blob/master/op-exclude.txt添加到存储库，然后提交更改并重新部署。<br>3。 无需升级[!DNL ECE Tools]，您还可以在存储库中添加/修改https://github.com/magento/magento-cloud/blob/master/op-exclude.txt ，然后提交更改并重新部署。

## 选项1 — 对于具有<u>not</u>的商家，从2024年6月11日开始应用安全更新，或者从2024年6月28日开始应用独立的修补程序

1. 应用安全更新。
1. 应用2024年7月17日发布的[修补程序](#hotfix)。
1. 旋转您的[!DNL encryption keys]。

或者

1. 应用隔离的修补程序。 **<u>注意</u>：此版本的隔离修补程序中包含2024年7月17日[!DNL hotfix]。**
1. 旋转您的[!DNL encryption keys]。

## 选项2 — 对于已<u>1}的商家，从2024年6月11日起应用了安全更新，和/或2024年6月28日发布的独立修补程序</u>

1. 应用2024年7月17日发布的[修补程序](#hotfix)。
1. 旋转您的[!DNL encryption keys]。

## 选项3 — 对于已<u>的商家</u> (1)从2024年6月11日起应用了安全更新，和/或(2)2024年6月28日发布的隔离修补程序，和(3)旋转您的加密密钥

* 应用[修补程序](#hotfix)。


>[!NOTE]
>
>为确保升级后您仍然安全，您还必须&#x200B;**[轮换[!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**。

在本篇文章中，您将了解如何在当前及更早版本的Adobe Commerce和Magento Open Source中为此问题实施独立的修补程序。

## 受影响的产品和版本

云上的Adobe Commerce、内部部署的Adobe Commerce和Magento Open Source：

* 2.4.7及更早版本
* 2.4.6-p5及更早版本
* 2.4.5-p7及更早版本
* 2.4.4-p8及更低版本

## 适用于Adobe Commerce on Cloud、Adobe Commerce内部部署软件和Magento Open Source的解决方案

为帮助解决受影响产品和版本的漏洞，您必须应用[!DNL VULN-27015]修补程序（取决于您的版本）并轮换[!UICONTROL encryption keys]。


## 修补程序详细信息 {#hotfix}

* 下载[!DNL Hotfix] [AC-12485_Hotfix_COMPOSER_patch.zip](assets/AC-12485_Hotfix_COMPOSER_patch.zip)

## 隔离的补丁程序详细信息

**<u>注意</u>：此版本的隔离修补程序中包含2024年7月17日[!DNL hotfix]。**

根据您的Adobe Commerce/Magento Open Source版本，使用以下附加的修补程序：

### 对于版本2.4.7：

* [VULN-27015-2.4.7x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.7x_v2_COMPOSER_patch.zip)

### 对于版本2.4.6、2.4.6-p1、2.4.6-p2、2.4.6-p3、2.4.6-p4、2.4.6-p5：

* [VULN-27015-2.4.6x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_v2_COMPOSER_patch.zip)

### 对于版本2.4.5、2.4.5-p1、2.4.5-p2、2.4.5-p3、2.4.5-p4、2.4.5-p5、2.4.5-p6、2.4.5-p7：

* [VULN-27015-2.4.5x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_v2_COMPOSER_patch.zip)

### 对于版本2.4.4、2.4.4-p1、2.4.4-p2、2.4.4-p3、2.4.4-p4、2.4.4-p5、2.4.4-p6、2.4.4-p7、2.4.4-p8：

* [VULN-27015-2.4.4x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_v2_COMPOSER_patch.zip)


## 如何应用隔离的修补程序和[!DNL hotfix]

解压缩文件，并参阅我们的支持知识库中的[如何应用Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html)提供的编辑器修补程序以获取说明。

## 仅适用于Adobe Commerce on Cloud商家 — 如何判断隔离的修补程序是否已应用

考虑到无法轻松检查问题是否已修补，您可能希望检查[!DNL VULN-27015]隔离修补程序是否已成功应用。

<u>您可以执行以下步骤，以文件`VULN-27015-2.4.7_COMPOSER.patch`为例</u>：

1. [安装质量修补程序工具](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html)。
1. 运行命令： <br>
   ![cve-2024-34102-tell-if-patch-applied-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. 您应该会看到类似以下内容的输出，其中VULN-27015返回&#x200B;*已应用*&#x200B;状态：

   ```bash
   ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
   ```

## 应用修补程序后旋转/更改[!UICONTROL encryption key]

* 有关在应用修补程序后如何旋转/更改[!UICONTROL encryption key]的指导&#x200B;**，请参阅Commerce管理系统指南文档中的[管理系统指南： [!UICONTROL Encryption key]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**。

## 安全更新

可用于Adobe Commerce的安全更新：

* [Adobe安全公告([!DNL APSB24-40])](https://helpx.adobe.com/security/products/magento/apsb24-40.html)
