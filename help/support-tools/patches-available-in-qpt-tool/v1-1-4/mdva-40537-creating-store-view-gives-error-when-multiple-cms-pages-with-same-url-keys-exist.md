---
title: 'MDVA-40537：当多个CMS页面具有相同的URL密钥时，创建存储视图会出错。'
description: MDVA-40537修补程序修复了以下问题：如果多个CMS页面具有相同的URL键，则用户在创建存储视图时会收到错误。 安装[Quality Patches Tool (QPT)](https://devdocs.magento.com/guides/v2.4/comp-mgr/patching.html#mqp) 1.1.4后，即可使用此修补程序。 修补程序ID为MDVA-40537。 请注意，Adobe Commerce 2.4.1中已修复此问题。
exl-id: d92400c9-0c5a-4416-820d-99ab4ba34003
feature: CMS
role: Admin
source-git-commit: 1d2e0c1b4a8e3d79a362500ee3ec7bde84a6ce0d
workflow-type: tm+mt
source-wordcount: '437'
ht-degree: 0%

---

# MDVA-40537：当多个CMS页面具有相同的URL密钥时，创建存储视图会出错。

MDVA-40537修补程序修复了以下问题：如果多个CMS页面具有相同的URL键，则用户在创建存储视图时会收到错误。 此修补程序在以下情况下可用： [Quality Patches Tool (QPT)](https://devdocs.magento.com/guides/v2.4/comp-mgr/patching.html#mqp) 已安装1.1.4。 修补程序ID为MDVA-40537。 请注意，Adobe Commerce 2.4.1中已修复此问题。

## 受影响的产品和版本

**该修补程序是为Adobe Commerce版本创建的：**

Adobe Commerce（所有部署方法） 2.3.5-p2

**与Adobe Commerce版本兼容：**

Adobe Commerce（所有部署方法） 2.3.4 - 2.4.0-p1

>[!NOTE]
>
>该修补程序可能适用于具有新的Quality Patches Tool版本的其他版本。 要检查该修补程序是否与您的Adobe Commerce版本兼容，请更新 `magento/quality-patches` 包到最新版本，并检查 [[!DNL Quality Patches Tool]：搜索修补程序页面](https://devdocs.magento.com/quality-patches/tool.html#patch-grid). 使用修补程序ID作为搜索关键字来查找修补程序。


## 问题

如果多个CMS页面具有相同的URL键，则用户在创建商店视图时会收到错误。

<u>重现问题的步骤</u>：

1. 转到 **管理面板** > **商店** > **所有商店** 并创建两个商店视图。

   ```sql
   Name: German
   Code: german
   Status: Enabled
   ```

   ```sql
   Name: French
   Code: french
   Status: Enabled
   ```

1. 转到 **管理面板** > **内容** > **页面** 并创建两个页面。

   ```sql
   Page Title: About Us
   URL Key: about-us
   Store View: French
   ```

   ```sql
   Page Title: About Us
   URL Key: about-us
   Store View: German
   ```

1. 转到 **管理面板** > **商店** > **所有商店** 和创建新的商店视图。

   ```sql
   Name: Spanish
   Code: spanish
   Status: Enabled
   ```

<u>预期结果</u>：

已成功创建商店视图。

<u>实际结果</u>：

将显示以下错误消息： *保存时出错。 请查看错误日志。* 日志包含如下异常：

```sql
Exception message: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'about-us-4' for key 'URL_REWRITE_REQUEST_PATH_STORE_ID', query was: INSERT  INTO }}url_rewrite{{ (}}redirect_type{{,}}is_autogenerated{{,}}metadata{{,}}description{{,}}store_id{{,}}entity_type{{,}}entity_id{{,}}request_path{{,}}target_path{{) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)
```

## 应用修补程序

要应用单独的修补程序，请根据您的部署方法使用以下链接：

* Adobe Commerce或Magento Open Source内部部署： [软件更新指南>应用补丁程序](https://devdocs.magento.com/guides/v2.4/comp-mgr/patching/mqp.html) 在我们的开发人员文档中。
* 云基础架构上的Adobe Commerce： [升级和修补程序>应用修补程序](https://devdocs.magento.com/cloud/project/project-patch.html) 在我们的开发人员文档中。

## 相关阅读

要了解有关Quality Patches Tool的更多信息，请参阅：

* [Quality Patches Tool released：一款用于自助提供高质量修补程序的新工具](/help/announcements/adobe-commerce-announcements/magento-quality-patches-released-new-tool-to-self-serve-quality-patches.md) 在我们的支持知识库中。
* [使用Quality Patches Tool检查是否有可用于Adobe Commerce问题的修补程序](/help/support-tools/patches-available-in-qpt-tool/check-patch-for-magento-issue-with-magento-quality-patches.md) 在我们的支持知识库中。

有关QPT中可用的其他修补程序的信息，请参阅 [QPT中可用的修补程序](https://support.magento.com/hc/en-us/sections/360010506631-Patches-available-in-QPT-tool-) 部分。
